<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE book [
<!-- Some useful entities borrowed from HTML -->
<!ENTITY ndash  "&#x2013;">
<!ENTITY mdash  "&#x2014;">
<!ENTITY hellip "&#x2026;">

<!-- Useful for describing APIs -->
<!ENTITY GET    '<command xmlns="http://docbook.org/ns/docbook">GET</command>'>
<!ENTITY PUT    '<command xmlns="http://docbook.org/ns/docbook">PUT</command>'>
<!ENTITY POST   '<command xmlns="http://docbook.org/ns/docbook">POST</command>'>
<!ENTITY DELETE '<command xmlns="http://docbook.org/ns/docbook">DELETE</command>'>
<!ENTITY PRODNAME "Cloud Big Data">
<!ENTITY PRODABBV "CBD">

<!-- changing authentication endpoints; define entities for US & UK rather than maintaining in text -->
<!ENTITY ENDPOINT-US "https://auth.api.rackspacecloud.com/v2.0/">
<!ENTITY ENDPOINT-UK "https://lon.identity.api.rackspacecloud.com/v1.1/">

<!ENTITY CHECK  '<inlinemediaobject xmlns="http://docbook.org/ns/docbook">
<imageobject>
<imagedata fileref="img/Check_mark_23x20_02.svg"
format="SVG" scale="60"/>
</imageobject>
</inlinemediaobject>'>

<!ENTITY ARROW  '<inlinemediaobject xmlns="http://docbook.org/ns/docbook">
<imageobject>
<imagedata fileref="img/Arrow_east.svg"
format="SVG" scale="60"/>
</imageobject>
</inlinemediaobject>'>

]>
<book xmlns="http://docbook.org/ns/docbook"
  xmlns:xi="http://www.w3.org/2001/XInclude"
  xmlns:xlink="http://www.w3.org/1999/xlink"
  xmlns:svg="http://www.w3.org/2000/svg"
  xmlns:m="http://www.w3.org/1998/Math/MathML"
  xmlns:html="http://www.w3.org/1999/xhtml"
  xmlns:wadl="http://wadl.dev.java.net/2009/02"
  version="5.0-extension RackBook-2.0" xml:id="cbd-devguide">
 <!-- <?rax 
    title.font.size="30px" 
    subtitle.font.size="20px"         
    canonical.url.base="http://docs-internal.rackspace.com/cbd/api/v1/cbd-devguide/content"
    status.bar.text="Early Access"?>
  <title>Rackspace &PRODNAME; Developer Guide</title>
  <titleabbrev>&PRODNAME; Developer Guide</titleabbrev>
-->
  <?rax title.font.size="35px" subtitle.font.size="20px"?>
  <title>Rackspace Cloud Big Data Developer Guide</title>
  <?rax status.bar.text.font.size="40px"
          status.bar.text="Early Access"?>   
  <titleabbrev>Rackspace Cloud Big Data Developer
    Guide</titleabbrev>

  <info>
    <author>
      <personname>
        <firstname/>
        <surname/>
      </personname>
      <affiliation>
        <orgname>Rackspace Cloud</orgname>
      </affiliation>
    </author>
    <copyright>
      <year>2013</year>
    </copyright>
    <releaseinfo>API v1.0 Early Access</releaseinfo>
    <productname>Rackspace &PRODNAME;</productname>
    <pubdate>2013-09-16</pubdate>
    <legalnotice role="rs-api">
      <annotation>
        <remark>Copyright details are filled in by the doc build
          process.</remark>
      </annotation>
    </legalnotice>
    <abstract>
      <para >This document is intended for software
        developers interested in developing applications using the
        Rackspace &PRODNAME; Application Programming Interface
          (<abbrev>API</abbrev>). </para>
    </abstract>
    <revhistory xmlns:svg="http://www.w3.org/2000/svg"
      xmlns:m="http://www.w3.org/1998/Math/MathML"
      xmlns:html="http://www.w3.org/1999/xhtml">
      <revision>
        <date>2013-09-16</date>
        <revdescription>
          <itemizedlist>
            <listitem>
              <para>Initial Early Access release.</para>
            </listitem>
          </itemizedlist>
        </revdescription>
      </revision>
    </revhistory>
    <raxm:metadata xmlns:raxm="http://docs.rackspace.com/api/metadata">
      <raxm:displayname>API Developer Guide</raxm:displayname>
      <raxm:product version="v1.0">cbd</raxm:product>
      <raxm:priority>20</raxm:priority>
    </raxm:metadata>
  </info>
  <chapter xml:id="overview">
    <title>Overview</title>
    <para>Rackspace &PRODNAME; (&PRODABBV;) is an on-demand Hadoop
      service on the Rackspace open cloud. It alleviates the pain
      associated with deploying, managing, and scaling Hadoop
      clusters, allowing you to focus on your core business. </para>
    <para>Rackspace Cloud Big Data is just as flexible and
      feature-rich as running Hadoop on your own. You will benefit
      from on-demand servers, utility-based pricing, and have access
      to the full set of Hadoop features and APIs. However, you will
      not have to worry about provisioning, growing, or maintaining
      your Hadoop infrastructure. Our service uses an environment,
      which is specifically optimized for Hadoop. This ensures that
      your jobs will run efficiently and reliably. Please note that
      you will still be responsible for developing, troubleshooting,
      and deploying your applications. </para>
    <remark>Reviewers: If you have an architecture diagram for Cloud
      Big Data that you want included here, please send it to
      me.</remark>
<!-- Coming after EA. David Dobbins is working with marketing to create.    
    <para>The following figure shows an overview of Cloud Big Data: </para>
    <para>&lt;&lt;&lt;&lt;&lt;&lt; Figure coming by 9/12/2013 from
      David Dobbins>>>>>>></para>
-->      
    <para>There are two primary use cases for &PRODNAME;: </para>
    <itemizedlist>
      <listitem>
        <para>To create on-demand infrastructure for applications in
          production where physical servers would be too costly and
          time-consuming to configure and maintain.</para>
      </listitem>
      <listitem>
        <para>To develop, test, and pilot data analysis
          applications.</para>
      </listitem>
    </itemizedlist>
    <para> The benefits of &PRODNAME; include allowing you to: <itemizedlist>
        <listitem>
          <para>Create or resize Hadoop clusters in minutes and pay
            only for what you use.</para>
        </listitem>
        <listitem>
          <para>Access Hortonworks Data Platform (HDP), an
            enterprise-ready distribution that is 100% Apache open
            source.</para>
        </listitem>
        <listitem>
          <para>Provision and manage Hadoop using an easy-to-use
            Control Panel and a RESTful API.</para>
        </listitem>
        <listitem>
          <para>Seamlessly access data in Cloud Files
            containers.</para>
        </listitem>
        <listitem>
          <para>Gain interoperability with any third party software
            tool that supports HDP.</para>
        </listitem>
        <listitem>
          <para>Fanatical Support® on a 24x7x365 basis via chat, phone
            or ticket.</para>
        </listitem>
      </itemizedlist>
    </para>
    <section xml:id="Intended_Audience-d1e122">
      <title>Intended Audience</title>
      <para>This Guide is intended to assist software developers who
        want to develop applications using the &PRODNAME; API. It
        assumes the reader has a general understanding of Big Data
        concepts and is familiar with: </para>
      <itemizedlist spacing="compact">
        <listitem>
          <para>Hadoop, HDFS, and MapReduce</para>
        </listitem>
        <listitem>
          <para>RESTful web services</para>
        </listitem>
        <listitem>
          <para>HTTP/1.1 conventions</para>
        </listitem>
        <listitem>
          <para>JSON serialization formats</para>
        </listitem>
      </itemizedlist>
    </section>
    <section xml:id="Document_Change_History-d1e166">
      <title>Document Change History</title>
      <para>This version of the Developer Guide replaces and obsoletes
        all previous versions. The most recent changes are described
        in the table below:</para>
      <?rax revhistory?>
    </section>
    <section xml:id="Early_Access-d1e122">
      <title>Early Access</title>
      <para>The Early Access program enables customers and Rackers by
        invitation to test an early version of the product and provide
        feedback of the product and capabilities. The &PRODABBV; Early
        Access Program is a pre-production service offering covered by
        the Beta Services terms (<link
          xlink:href="http://www.rackspace.com/information/legal/testterms/"
          > rackspace.com/information/legal/testterms/</link>) in our
        Rackspace Cloud Terms of Service.</para>
      <para>Early Access users must meet the following criteria:
          <itemizedlist spacing="compact">
          <listitem>
            <para> A Rackspace Cloud account.</para>
          </listitem>
          <listitem>
            <para>Prior knowledge of Hadoop or a 3rd party tool that
              works with Hadoop.</para>
          </listitem>
          <listitem>
            <para>Ability to work with the Hortonworks Data
              Platform.</para>
          </listitem>
          <listitem>
            <para>Basic familiarity with Cloud and RESTful
              APIs.</para>
          </listitem>
          <listitem>
            <para>A willingness to provide feedback to Rackspace’s
              Product and Product Marketing functions.</para>
          </listitem>
        </itemizedlist>
      </para>
      <para>The following is supported during the Early Access
        Program: <itemizedlist spacing="compact">
          <listitem>
            <para> Operating System – CentOS 6.3. </para>
          </listitem>
          <listitem>
            <para> Hadoop Distribution – Hortonworks Data Platform
              (HDP) version 1.1. </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>The Early Access Program has some limitations. By using
        the &PRODNAME; API, you agree and understand
          that:<itemizedlist spacing="compact">
          <listitem>
            <para>&PRODABBV; includes a Swift integration feature
              wherein Hadoop, MapReduce, or Pig jobs can directly
              reference Cloud Files containers. Currently, it is only
              possible to reference containers in DFW.</para>
          </listitem>
          <listitem>
            <para>There is no charge for this service during the Early
              Access period.</para>
          </listitem>
          <listitem>
            <para>We will charge for &PRODNAME; when this service
              becomes generally available.</para>
          </listitem>
          <listitem>
            <para>If you participate in this Early Access Program, you
              will receive a notification prior to general
              availability. </para>
          </listitem>
          <listitem>
            <para>There is no Service Level Agreement. </para>
          </listitem>
          <listitem>
            <para>Support is available from 8 AM – 5 PM (Central Time)
              Monday–Friday.</para>
          </listitem>
        </itemizedlist>
      </para>
      <para>The following resource limits apply during the Early
        Access Program: <itemizedlist spacing="compact">
          <listitem>
            <para>Up to 5 data nodes</para>
          </listitem>
          <listitem>
            <para>Up to 10 virtual CPUs</para>
          </listitem>
          <listitem>
            <para>Up to 40 GBs of RAM</para>
          </listitem>
          <listitem>
            <para>Up to 5 terabytes of disk space</para>
          </listitem>
        </itemizedlist>
      </para>
    </section>
    <section xml:id="API_Contract_Changes-d1e122">
      <title>API Contract Changes</title>
      <para>The API contract is not locked and may change during the
        Early Access Program.</para>
      <para>Rackspace will notify customers in Release Notes when and
        if the contract does change.</para>
    </section>
    <section xml:id="Additional_Resources-d1e532">
      <title>Additional Resources</title>
      <!--
      <para>You can download the most current versions of the
        API-related documents from <link
          xlink:href="http://docs.rackspace.com/api/"
          >docs.rackspace.com/api/</link>. 
      </para>
      -->
      <para>For information about Rackspace Cloud products, refer to
          <link xlink:href="http://www.rackspace.com/cloud/">
          www.rackspace.com/cloud</link>. This site also offers links
        to Rackspace's official support channels, including knowledge
        base articles, forums, phone, chat, and email. </para>
      <para>Email all support questions to:
          <email>cbdbeta@rackspace.com</email>. </para>
      <para>You can follow Rackspace updates and announcements via
        twitter at: <link
          xlink:href="http://www.twitter.com/rackspace"
          >www.twitter.com/rackspace</link>. </para>
      <para>This API uses standard HTTP 1.1 response codes as
        documented at: <link
          xlink:href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html"
          >www.w3.org/Protocols/rfc2616/rfc2616-sec10.html</link>.
      </para>
    </section>
  </chapter>
  <chapter xml:id="Concepts-d1e563">
    <title>Concepts</title>
    <?dbhtml stop-chunking?>
    <para>To use the Cloud Big Data API effectively, you should
      understand the terminology found in the <xref
        linkend="glossary_1"/> at the end of the book.</para>
  </chapter>
  <chapter xml:id="General_API_Information-d1e633"
    xmlns:svg="http://www.w3.org/2000/svg"
    xmlns:m="http://www.w3.org/1998/Math/MathML"
    xmlns:html="http://www.w3.org/1999/xhtml">
    <title>General API Information</title>
    <para>The &PRODNAME; API is implemented using a RESTful web
      service interface. Like other products in the Rackspace Cloud
      suite, &PRODNAME; shares a common token-based authentication
      system that allows seamless access between products and
      services. </para>
    <para>Like other products in the Rackspace Cloud suite, &PRODNAME;
      shares a common token-based authentication system that allows
      seamless access between products and services. </para>
    <note>
      <para> All requests to authenticate against and operate the
        service are performed using SSL over HTTP (HTTPS) on TCP port
        443. </para>
    </note>
    <section xml:id="Authentication-d1e647">
      <title>Authentication</title>
      <para>Every REST request against the &PRODNAME; Service requires
        the inclusion of a specific authorization token, supplied by
        the <code>X-Auth-Token</code> HTTP header. Customers obtain
        this token by first using the Rackspace Cloud Authentication
        Service and supplying a valid username and API access key. </para>
      <para>To authenticate, submit a <code>POST/v2.0/tokens</code>
        request, presenting valid Rackspace customer credentials in
        the message body to a Rackspace authentication endpoint. </para>
      <note>
        <para>If you cannot access the &PRODNAME; Management API,
          please email the &PRODNAME; team at
            <email>cbdteam@rackspace.com</email> to request access.
          Access will be granted on an as-needed basis until access to
          the Management API is integrated with Global Auth.</para>
      </note>
      <para><emphasis role="bold">GET YOUR CREDENTIALS</emphasis>
      </para>
      <para> You can use either of two sets of credentials: <itemizedlist>
          <listitem>
            <para>your <code>username</code> and
              <code>password</code></para>
          </listitem>
          <listitem>
            <para>your <code>username</code> and <code>API
              key</code></para>
          </listitem>
        </itemizedlist>
      </para>
      <para>Your <code>username</code> and <code>password</code> are
        the ones you use to login to the Rackspace control panel. Once
        you are logged in, you can use the Rackspace control panel to
        obtain your <code>API key</code>. </para>
      <para>
        <itemizedlist spacing="compact">
          <listitem>
            <para> US and UK based accounts use the control panel at
                <link xlink:href="https://manage.rackspacecloud.com/"
                >https://mycloud.rackspace.com/</link>. </para>
          </listitem>
        </itemizedlist>
      </para>
      <para>
        <emphasis role="bold">CHOOSE YOUR AUTHENTICATION </emphasis>
      </para>
      <para> Use the authentication endpoint for the region in which
        your account is based: <itemizedlist>
          <listitem>
            <para>All accounts authenticate through <link
                xlink:href="https://identity.api.rackspacecloud.com/v2.0/tokens"
                >
              identity.api.rackspacecloud.com/v2.0/tokens</link>.</para>
          </listitem>
        </itemizedlist>
      </para>
      <para><emphasis role="bold">SEND YOUR CREDENTIALS TO YOUR
          AUTHENTICATION ENDPOINT</emphasis>
      </para>
      <para>If you know your credentials and your authentication
        endpoint, and you can issue a <code>POST /v2.0/tokens</code>
        request in an API call, you have all the basic information you
        need to use the Rackspace Cloud Identity Service. </para>
      <para> You can use <link xlink:href="http://curl.haxx.se/"
          >cURL</link> to try the authentication process in two steps:
        get a token; send the token to a service.<orderedlist>
          <listitem>
            <para>Get an authentication token by providing your
              username and either your API key or your password. Here
              are examples of both approaches:</para>
            <para><emphasis>You can request a token by providing your
                username and your API key.</emphasis></para>
            <para>
              <literallayout class="monospaced">curl -X POST https://auth.api.rackspacecloud.com/v2.0/tokens -d 
'{ "auth":{ "RAX-KSKEY:apiKeyCredentials":{ "username":"theUserName", "apiKey":"00a00000a000a0000000a000a00aaa0a" } } }' -H "Content-type: application/json"</literallayout>
            </para>
            <para><emphasis>You can request a token by providing your
                username and your password.</emphasis></para>
            <para>
              <literallayout class="monospaced">curl -X POST https://auth.api.rackspacecloud.com/v2.0/tokens -d
'{"auth":{"passwordCredentials":{"username":"theUserName","password":"thePassword"}}}' -H "Content-type: application/json"</literallayout>
            </para>
            <para>Successful authentication returns a token which you
              can use as evidence that your identity has already been
              authenticated. To use the token, pass it to other
              services as an <code>X-Auth-Token</code> header. </para>
            <para>Authentication also returns a service catalog,
              listing the endpoints you can use for Cloud services. </para>
          </listitem>
          <listitem>
            <para>Use the authentication token to send a GET to a
              service you would like to use. Here is an example of
              passing an authentication token to the Cloud Files
              service, using the Cloud Files service catalog endpoint
              that was returned along with the token.</para>
            <para><emphasis>You can use a token and a service endpoint
                to tell a service that your credentials are
                valid.</emphasis></para>
          </listitem>
        </orderedlist>
      </para>
      <para>Authentication tokens are typically valid for 24 hours.
        Applications should be designed to re-authenticate after
        receiving a 401 (Unauthorized) response from a service
        endpoint. </para>
      <important>
        <para>If you are programmatically parsing an authentication
          response, please be aware that service names are stable for
          the life of the particular service and can be used as keys.
          You should also be aware that a user's service catalog can
          include multiple uniquely-named services which perform
          similar functions. In Auth 2.0, the service type attribute
          can be used as a key by which to recognize similar services;
          see the tip below. </para>
      </important>
    </section>
    <section xml:id="Service_Access_Endpoints-d1e753">
      <title>Service Access/Endpoints</title>
      <para>The &PRODNAME; Service is a regionalized service. The user
        of the service is therefore responsible for appropriate
        replication, caching, and overall maintenance of &PRODNAME;
        data across regional boundaries to other Cloud Servers.</para>
      <para>The endpoint to use for your Cloud Big Data API calls for
        the EA release is
          <code>https://dfw.bigdata.api.rackspacecloud.com/v1.0/1234</code>. </para>
      <?rax-fo keep-with-next?>
      <para>Replace the sample account ID number, <emphasis
          role="italic">1234</emphasis>, with your actual account
        number returned as part of the authentication service
        response.</para>
      <para>You will find the actual account number after the final
        '/' in the <code>publicURL</code> field returned by the
        authentication response. In the following example, you can see
        from the <code>publicURL</code> field for
          <code>cloudServers</code>,
          <code>publicURL="https://servers.api.rackspacecloud.com/v1.0/322781"</code>,
        that the account number is 322781.</para>
    </section>
    <section xml:id="Request_Response_Types-d1e903">
      <title>Request/Response Types</title>
      <para>The &PRODNAME; API supports JSON data serialization
        formats. The request format is specified using the
          <code>Content-Type</code> header and is required for calls
        that have a request body. The response format can be specified
        in requests either by using the <code>Accept</code> header or
        by adding <code>.json</code> extension to the request URI.
        Note that JSON is the default format for data
        serialization.</para>
      <table rules="all">
        <caption>Response Formats</caption>
        <?dbfo keep-together="always"?>
        <thead>
          <tr align="center">
            <td>Format</td>
            <td>Accept Header</td>
            <td>Query Extension</td>
            <td>Default</td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>JSON</td>
            <td>application/json</td>
            <td>.json</td>
            <td>Yes</td>
          </tr>
        </tbody>
      </table>
    </section>
    <section xml:id="volume_status">
      <title>Faults</title>
      <para>When an error occurs, the &PRODNAME; Service returns a
        fault object containing an HTTP error response code that
        denotes the type of error. In the body of the response, the
        system will return additional information about the
        fault.</para>
      <para>The following table lists possible fault types with their
        associated error codes and descriptions.</para>
      <informaltable rules="all">
        <thead>
          <tr align="center">
            <td colspan="2">Fault Type</td>
            <td colspan="1">Associated Error Code</td>
            <td colspan="3">Description</td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td colspan="2"><code>badRequest</code></td>
            <td colspan="1">400</td>
            <td colspan="3">There is an error in the user-provided
              request.</td>
          </tr>
          <tr>
            <td colspan="2"><code>unauthorized</code></td>
            <td colspan="1">401</td>
            <td colspan="3">The supplied token is not authorized to
              access the resources. Either the token is expired or
              invalid.</td>
          </tr>
          <tr>
            <td colspan="2"><code>forbidden</code></td>
            <td colspan="1">403</td>
            <td colspan="3">Access to the requested resource was
              denied.</td>
          </tr>
          <tr>
            <td colspan="2"><code>itemNotFound</code></td>
            <td colspan="1">404</td>
            <td colspan="3">The back-end services did not find
              anything matching the request URI.</td>
          </tr>
          <tr>
            <td colspan="2"><code>conflictingRequest</code></td>
            <td colspan="1">409</td>
            <td colspan="3">The requested resource cannot currently be
              operated on.</td>
          </tr>
          <tr>
            <td colspan="2"><code>overLimit</code></td>
            <td colspan="1">413</td>
            <td colspan="3">The resource quota was exceeded.</td>
          </tr>
          <tr>
            <td colspan="2"><code>lavaFault</code></td>
            <td colspan="1">500</td>
            <td colspan="3">An unknown exception occurred.</td>
          </tr>
          <tr>
            <td colspan="2"><code>serviceUnavailable</code></td>
            <td colspan="1">503</td>
            <td colspan="3">The service is currently unavailable.</td>
          </tr>
        </tbody>
      </informaltable>
    </section>
    <section xml:id="Limits-d1e1208" >
      <title>Limits</title>
      <para>All accounts, by default, have a preconfigured set of
        thresholds (or limits) to manage capacity and prevent abuse of
        the system. The system recognizes two kinds of limits:
          <firstterm>rate limits</firstterm> and <firstterm>absolute
          limits</firstterm>. Rate limits are thresholds that are
        reset after a certain amount of time passes. Absolute limits
        are fixed. </para>
      <section xml:id="Rate_Limits-d1e1222">
        <title>Rate Limits</title>
        <para>Rate limits are specified in terms of both a
          human-readable wildcard URI and a machine-processable
          regular expression. The regular expression boundary matcher
          '^' takes effect after the root URI path. For example, the
          regular expression ^/v1.0/clusters would match the bold
          portion of the following URI:
            https://dfw.bigdata.api.rackspacecloud.com<emphasis
            role="bold">/v1.0/clusters</emphasis>. </para>
        <para>The following table specifies the default rate limits
          for all API operations for all &GET;, &POST;, &PUT;, and
          &DELETE; calls for clusters: </para>
        <table rules="all">
          <caption>Default Rate Limits</caption>
          <thead>
            <tr align="center">
              <td colspan="1">Verb</td>
              <td colspan="2">URI</td>
              <td colspan="2">RegEx</td>
              <td colspan="1">Default</td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td colspan="1">&GET; changes-since</td>
              <td colspan="2">*/clusters/*</td>
              <td colspan="2">^/vd+.d+/clusters.*</td>
              <td colspan="1">3/minute</td>
            </tr>
            <tr>
              <td colspan="1">&POST;</td>
              <td colspan="2">*/clusters/*</td>
              <td colspan="2">^/vd+.d+/clusters.*</td>
              <td colspan="1">2/minute</td>
            </tr>
            <tr>
              <td colspan="1">&POST; clusters</td>
              <td colspan="2">*/clusters/*</td>
              <td colspan="2">^/vd+.d+/clusters.*</td>
              <td colspan="1">50/day</td>
            </tr>
            <tr>
              <td colspan="1">&PUT;</td>
              <td colspan="2">*/clusters/*</td>
              <td colspan="2">^/vd+.d+/clusters.*</td>
              <td colspan="1">2/minute</td>
            </tr>
            <tr>
              <td colspan="1">&DELETE;</td>
              <td colspan="2">*/clusters/*</td>
              <td colspan="2">^/vd+.d+/clusters.*</td>
              <td colspan="1">5/minute</td>
            </tr>
          </tbody>
        </table>
        <para>Rate limits are applied in order relative to the verb,
          going from least to most specific. For example, although the
          threshold for &POST; to /v1.0/* is 2 per minute, one cannot
          &POST; to /v1.0/* more than 50 times within a single day. </para>
        <para>If you exceed the thresholds established for your
          account, a <errorcode>413 (OverLimit)</errorcode> HTTP
          response will be returned with a <code>Retry-After</code>
          header to notify the client when it can attempt to try
          again. </para>
      </section>
      <section xml:id="Absolute_Limits-d1e1397">
        <title>Absolute Limits</title>
        <para>Refer to the following table for the absolute limits
          that are set.</para>
        <table rules="all">
          <caption>Absolute Limits</caption>
          <thead>
            <tr>
              <td colspan="1">Name</td>
              <td colspan="3">Description</td>
              <td colspan="1">Limit</td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td colspan="1">Node Count</td>
              <td colspan="3">Maximum number of allowed data
                nodes</td>
              <td colspan="1">5</td>
            </tr>
            <tr>
              <td colspan="1">Disk</td>
              <td colspan="3">Maximum disk capacity across all data
                nodes in gigabytes (GB) </td>
              <td colspan="1">5120</td>
            </tr>
            <tr>
              <td colspan="1">RAM</td>
              <td>Maximum RAM across all data nodes in gigabytes
                (GB)</td>
              <td colspan="3">40960</td>
            </tr>
            <tr>
              <td colspan="1">VCPUs</td>
              <td colspan="3">Maximum VCPUs across all data nodes</td>
              <td colspan="1">10</td>
            </tr>
          </tbody>
        </table>
      </section>
    </section>
    <section xml:id="datetimeformat">
      <title>Date/Time Format</title>
      <para>The &PRODNAME; Service uses an ISO-8601 compliant
        date format for the display and consumption of
        date/time values. </para>
      <para>The system timezone is in UTC. </para>
      <example>
        <title>&PRODNAME; Service Date/Time Format</title>
        <programlisting>yyyy-MM-dd'T'HH:mm:ss.SSSZ</programlisting>
        <para>See the table below for a description of the date/time format codes.</para>
        <para>May 19th, 2013 at 8:07:08 AM, GMT-5 would
          have the following format:</para>
        <programlisting>2013-05-19T08:07:08-05:00</programlisting>
      </example>
      <table rules="all">
        <caption>Explanation of Date/Time Format Codes</caption>
        <thead>
          <tr>
            <td>Code</td>
            <td>Description</td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>yyyy</td>
            <td>Four digit year</td>
          </tr>
          <tr>
            <td>MM</td>
            <td>Two digit month</td>
          </tr>
          <tr>
            <td>dd</td>
            <td>Two digit day of month</td>
          </tr>
          <tr>
            <td>T</td>
            <td>Separator for date/time</td>
          </tr>
          <tr>
            <td>HH</td>
            <td>Two digit hour of day (00-23)</td>
          </tr>
          <tr>
            <td>mm</td>
            <td>Two digit minutes of hour</td>
          </tr>
          <tr>
            <td>ss</td>
            <td>Two digit seconds of the minute</td>
          </tr>
          <tr>
            <td>SSS</td>
            <td>Three digit milliseconds of the second</td>
          </tr>
          <tr>
            <td>Z</td>
            <td>RFC-822 timezone</td>
          </tr>
        </tbody>
      </table>
      
    </section>
    <section xml:id="cluster_status" >
      <title>Cluster Status</title>
      <para><?rax-fo keep-with-next?>When making an API call to
        create, list, or delete a cluster or clusters, the following
        cluster status values are possible:</para>
      <itemizedlist spacing="compact">
        <listitem>
          <para>BUILDING &ndash; The cluster is being
            provisioned.</para>
        </listitem>
        <listitem>
          <para>CONFIGURING &ndash; The cluster is being
            configured.</para>
        </listitem>
        <listitem>
          <para>ACTIVE &ndash; The cluster is online and available to
            for use.</para>
        </listitem>
        <listitem>
          <para>DELETING &ndash; The cluster is being deleted.</para>
        </listitem>
        <listitem>
          <para>UPDATING &ndash; The cluster is being updated, either
            being resized or another update operation.</para>
        </listitem>
        <listitem>
          <para>ERROR &ndash; The cluster failed to start  up.</para>
        </listitem>
      </itemizedlist>
    </section>       
  </chapter>
  <chapter xml:id="API_Operations_dle2000"
    xmlns="http://docbook.org/ns/docbook"
    role="api-reference">
    <title>API Operations</title>  
    <para>The chapter describes each of the API operations provided by
      the Cloud Big Data service. </para>
    <section xml:id="profileOperations">
      <title>Profiles</title>
      <para>This section describes the operations that are supported
        for profiles.</para>
      <wadl:resources xmlns:wadl="http://wadl.dev.java.net/2009/02">
        <wadl:resource href="../../src/wadl/cbd-devguide.wadl#profiles"/>  
      </wadl:resources>       
<!--      
      <section xml:id="createUpdateProfile">
        <title>Create or Update Profile</title>
        <informaltable rules="all">
          <thead>
            <tr align="center">
              <td colspan="1">Verb</td>
              <td colspan="2">URI</td>
              <td colspan="3">Description</td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td colspan="1">&POST;</td>
              <td colspan="2">/profile</td>
              <td colspan="3">Creates a profile or updates the
                information in an existing profile.</td>
            </tr>
          </tbody>
        </informaltable>
        <simpara>Normal Response Code(s):
            <returnvalue>200</returnvalue> (OK) </simpara>
        <simpara>Error Response Code(s): <errorcode>400</errorcode>
          (Malformed Data), <errorcode>400</errorcode> (Unacceptable
          parameters) </simpara>
        <para>This call allows you to create or update the information
          for an existing profile.</para>
        <note>
          <para>You must create your profile before you create a
            cluster.</para>
        </note>
        <para>The following example shows the request and
          corresponding response to updating a profile:</para>
        <example>
          <title>Create/Update Profile Request: JSON</title>
          <literallayout class="monospaced">
        { "profile": {
            "username": "john.doe",
            "password": "j0Hnd03",
            "sshkeys": [
              { "name": "t@test",
                "publicKey": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCtUFnkFrqDDCgEqW1akQkpMOX
                Owwvg73PLn5Z5QgvxjvJhRCg9ZTR/OWXpWcYqFVNagH4Zs8NOb9921TyQ+ydMnatOM
                haxMh1ZwTgaUcvndOF8fY+kcERiw1l0iT95w42F8IdUH42Z+8KihZM8gVsbMS6qYTi
                OM29WHX7y37wuJIzqf3N2TiVXrqfjwugvY/bZ+47EUn78uk6aPZYJGXdDgaFqnIXUV
                N+hRFYXgKnU0Ui0aQkuYwnAW8KmanLoNU2xodrb6/XqWnSAAmwl7aoGKFunQsT6xDW
                yQk+ncUHUcdofDUqgd3lXmHGrTmQW97vqexDEnhsJ+AwbLGD5dukr t@test"
              }
            ],
            "cloudCredentials": {
              "username": "jdoe",
              "apikey": "df23gkh34h52gkdgfakgf"
            }
        }
        </literallayout>
        </example>
        <example>
          <title>Create/Update Profile Response: JSON</title>
          <literallayout class="monospaced">
        {"profile":
          { "username": "john.doe",
            "user_id" : "12346",
            "tenant_id" : "123456",
            "sshkeys": [{"name": "t@test", "publicKey" : "ssh-rsa ....."}],
            "cloudCredentials": {"username": "jdoe"},
            "links": [
              { "rel": "self",
                "href": "https://dfw.bigdata.api.rackspacecloud.com/v1.0/123456/profile"
              },
              { "rel": "bookmark",
                "href": "https://dfw.bigdata.api.rackspacecloud.com/123456/profile"
              }
            ],
          }
        }
        </literallayout>
        </example>
      </section>
      <section xml:id="viewProfileInformation">
        <title>View Profile Information</title>
        <informaltable rules="all">
          <thead>
            <tr align="center">
              <td colspan="1">Verb</td>
              <td colspan="2">URI</td>
              <td colspan="3">Description</td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td colspan="1">&GET;</td>
              <td colspan="2">/profile</td>
              <td colspan="3">Returns detailed information for the
                current user profile.</td>
            </tr>
          </tbody>
        </informaltable>
        <simpara>Normal Response Code(s):
            <returnvalue>200</returnvalue> (OK) </simpara>
        <simpara>Error Response Code(s): N/A </simpara>
        <para>The following example shows the request and
          corresponding response to viewing profile
          information:</para>
        <example>
          <title>Get Profile Request: JSON</title>
          <literallayout class="monospaced">
        N/A
        </literallayout>
        </example>
        <example>
          <title>Get Profile Response: JSON</title>
          <literallayout class="monospaced">
        {"profile":
            { "username": "john.doe",
              "user_id" : "12346",
              "tenant_id" : "123456",
              "sshkeys": [{"name": "t@test",
                                   "publicKey": "ssh-rsa AAAAB3..."}],
              "cloudCredentials": {},
              "links": [
                { "rel": "self",
                  "href": "https://dfw.bigdata.api.rackspacecloud.com/v1.0/123456/profile"
                },
                { "rel": "bookmark",
                  "href": "https://dfw.bigdata.api.rackspacecloud.com/123456/profile"
                }
              ],
            }
        }
        </literallayout>
        </example>
        <para/>
      </section>
    </section>
 --></section>   
    <section xml:id="clusterOperations">
      <title>Clusters</title>
      <para>This section describes the operations that are supported
        for clusters.</para>
      <section xml:id="createNewCluster">
        <title>Create Cluster</title>
        <informaltable rules="all">
          <thead>
            <tr align="center">
              <td colspan="1">Verb</td>
              <td colspan="2">URI</td>
              <td colspan="3">Description</td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td colspan="1">&POST;</td>
              <td colspan="2">/clusters</td>
              <td colspan="3">Create a new cluster.</td>
            </tr>
          </tbody>
        </informaltable>
        <simpara>Normal Response Code(s): <returnvalue>200
            (OK)</returnvalue>
        </simpara>
        <simpara>Error Response Code(s): 400 (Invalid Response Body),
          400 (User profile needs to be created), 400 (Invalid Node
          Count), 400 (Not Valid flavor), 400 (Malformed Data), 413
          (Quota Exceeded)</simpara>
        <para>This call creates a new cluster.</para>
        <note>
          <para>You must create your profile before you create a
            cluster.</para>
        </note>
        <para>The <parameter>postInitScript</parameter> input
          parameter specifies a URL that downloads a script that runs
          after the cluster is created. The status of the run is shown
          in the response by the
            <parameter>postInitScriptStatus</parameter> output
          parameter. </para>
        <para>The following example show the request and corresponding
          response to List all Clusters for the specified
          account:</para>
        <example>
          <title>Create Cluster Request: JSON</title>
          <literallayout class="monospaced">    
    {"cluster":
      { "name": "slice",
        "clusterType": "HADOOP_HDP1_1",
        "flavorId": "4fba3bca-7c76-11e2-b737-beeffa00040e",
        "nodeCount": 5,
        "postInitScript" :  "http://example.com/configure_cluster.sh"
      }
    }
    </literallayout>
        </example>
        <example>
          <title>Create Cluster Response: JSON</title>
          <literallayout class="monospaced">
    {"cluster":
      { "id": "db478fc1-2d86-4597-8010-cbe787bbbc41",
        "created": "2012-12-27T10:10:10Z",
        "updated": "",
        "name": "slice",
        "clusterType": "HADOOP_HDP1_1",
        "flavorId": "4fba3bca-7c76-11e2-b737-beeffa00040e",
        "nodeCount": 5,
        "postInitScriptStatus": "PENDING",
        "progress": 0.0,
        "status": "BUILD",
        "links": [
          { "rel": "self",
            "href": "https://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41"
          },
          { "rel": "bookmark",
            "href": "https://dfw.bigdata.api.rackspacecloud.com/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41"
          }
        ],
      }
    }
      </literallayout>
        </example>
      </section>
      <section xml:id="listAllClusters">
        <title>List All Clusters</title>
        <informaltable rules="all">
          <thead>
            <tr align="center">
              <td colspan="1">Verb</td>
              <td colspan="2">URI</td>
              <td colspan="3">Description</td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td colspan="1">&GET;</td>
              <td colspan="2">/clusters</td>
              <td colspan="3">List all clusters for account.</td>
            </tr>
          </tbody>
        </informaltable>
        <simpara>Normal Response Code(s): <returnvalue>200
            (OK)</returnvalue>
        </simpara>
        <simpara>Error Response Code(s): </simpara>
        <para>This call lists all clusters for the specified
          account.</para>
        <para>The following example show the request and corresponding
          response to List all Clusters for the specified
          account:</para>
        <example>
          <title>List Clusters Request: JSON</title>
          <literallayout class="monospaced">
        N/A
        </literallayout>
        </example>
        <example>
          <title>List Clusters Response: JSON</title>
          <literallayout class="monospaced">
        {"clusters":
          [
            { "id": "db478fc1-2d86-4597-8010-cbe787bbbc41",
              "name": "slice",
              "created": "2012-12-27T10:10:10Z",
              "updated": "2012-12-27T10:15:10Z", 
              "clusterType": "HADOOP_HDP1_1",
              "flavorId": "4fba3bca-7c76-11e2-b737-beeffa00040e",
              "nodeCount": 5,
              "postInitScriptStatus": "SUCCEEDED",
              "progress": 1.0,
              "status": "ACTIVE",
              "links": [
                { "rel": "self",
                  "href": "https://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41"
                },
                { "rel": "bookmark",
                  "href": "https://dfw.bigdata.api.rackspacecloud.com/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41"
                }
              ],
            },
            { "id": "ac111111-2d86-4597-8010-cbe787bbbc41",
              "name": "real",
              "created": "2012-12-27T10:10:10Z",
              "updated": "2012-12-27T10:15:10Z", 
              "clusterType": "HBASE_HDP1_1",
              "flavorId": "518400b2-7c76-11e2-b737-beeffa00040e",
              "nodeCount": 20,
              "postInitScriptStatus": null,
              "progress": 1.0,
              "status": "ACTIVE",
              "links": [
                { "rel": "self",
                  "href": "https://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/clusters/ac111111-2d86-4597-8010-cbe787bbbc41"
                },
                { "rel": "bookmark",
                  "href": "https://dfw.bigdata.api.rackspacecloud.com/1234/clusters/ac111111-2d86-4597-8010-cbe787bbbc41"
                }
              ],
            },
          ]
        }
        </literallayout>
        </example>
      </section>
      <section xml:id="getClusterDetails">
        <title>Get Cluster Details</title>
        <informaltable rules="all">
          <thead>
            <tr align="center">
              <td colspan="1">Verb</td>
              <td colspan="2">URI</td>
              <td colspan="3">Description</td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td colspan="1">&GET;</td>
              <td colspan="2">/clusters/{clusterId}</td>
              <td colspan="3">Gets details for a cluster.</td>
            </tr>
          </tbody>
        </informaltable>
        <simpara>Normal Response Code(s): <returnvalue>200
            (OK)</returnvalue>
        </simpara>
        <simpara>Error Response Code(s): <errorcode>404</errorcode>
          (Not Found)</simpara>
        <para>This call gets details for the specified cluster.</para>
        <para>The following example show the request and corresponding
          response to Get Details for a Cluster:</para>
        <example>
          <title>Get Cluster Details Request: JSON</title>
          <literallayout class="monospaced">
        GET https://dfw.bigdata.api.rackspacecloud.com/v1.0/7654321/clusters/ac111111-2d86-4597-8010-cbe787bbbc41
        Accept: application/json 
        X-Auth-Token:ea85e6ac-baff-4a6c-bf43-848020ea3812
        Content-Type: application/json
        </literallayout>
        </example>
        <example>
          <title>Get Cluster Details Response: JSON</title>
          <literallayout class="monospaced">
        Status: 200 OK
        Date: Mon, 06 Aug 2012 21:54:21 GMT
        Content-Type: application/json
        Content-Length: 110
        {"cluster":
          { "id": "db478fc1-2d86-4597-8010-cbe787bbbc41",
            "created": "2012-12-27T10:10:10Z",
            "updated": "2012-12-27T10:20:10Z",
            "name": "slice",
            "clusterType": "HADOOP_HDP1_1",
            "flavorId": "4fba3bca-7c76-11e2-b737-beeffa00040e",
            "nodeCount": 5,
            "postInitScriptStatus": "SUCCEEDED",
            "progress": 1.0,
            "status": "ACTIVE",
            "links": [
              { "rel": "self",
                "href": "https://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41"
              },
              { "rel": "bookmark",
                "href": "https://dfw.bigdata.api.rackspacecloud.com/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41"
              }
            ],
          }
        }

        </literallayout>
        </example>
      </section>
      <section xml:id="resizeCluster">
        <title>Resize Cluster</title>
        <informaltable rules="all">
          <thead>
            <tr align="center">
              <td colspan="1">Verb</td>
              <td colspan="2">URI</td>
              <td colspan="3">Description</td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td colspan="1">&POST;</td>
              <td colspan="2">/clusters/{clusterId}/action</td>
              <td colspan="3">Resizes a cluster.</td>
            </tr>
          </tbody>
        </informaltable>
        <simpara>Normal Response Code(s): <returnvalue>200
            (OK)</returnvalue>
        </simpara>
        <simpara>Error Response Code(s): <errorcode>400</errorcode>
          (Unacceptable parameters), <errorcode>400</errorcode>
          (Malformed data), <errorcode>404</errorcode> (Not Found),
            <errorcode>409</errorcode> (Invalid State)</simpara>
        <para>The following example show the request and corresponding
          response to  resize a cluster:</para>
        <example>
          <title>Resize Cluster Request: JSON</title>
          <literallayout class="monospaced">
        {"resize":
            { "nodeCount": 10
            }
        } 
        </literallayout>
        </example>
        <example>
          <title>Resize Cluster Response: JSON</title>
          <literallayout class="monospaced">
        {"cluster":
          { "id": "db478fc1-2d86-4597-8010-cbe787bbbc41",
            "created": "2012-12-27T10:10:10Z",
            "updated": "2012-12-27T16:20:10Z",
            "name": "slice",
            "clusterType": "HADOOP_HDP1_1",
            "flavorId": "4fba3bca-7c76-11e2-b737-beeffa00040e",
            "nodeCount": 10,
            "postInitScriptStatus": "PENDING",
            "progress": 0.5,
            "status": "RESIZING",
            "links": [
              { "rel": "self",
                "href": "https://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41"
              },
              { "rel": "bookmark",
                "href": "https://dfw.bigdata.api.rackspacecloud.com/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41"
              }
            ],
          }
        } 
        </literallayout>
        </example>
      </section>
      <section xml:id="deleteCluster">
        <title>Delete Cluster</title>
        <informaltable rules="all">
          <thead>
            <tr align="center">
              <td colspan="1">Verb</td>
              <td colspan="2">URI</td>
              <td colspan="3">Description</td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td colspan="1">&DELETE;</td>
              <td colspan="2">/clusters/{clusterId}</td>
              <td colspan="3">Deletes a cluster.</td>
            </tr>
          </tbody>
        </informaltable>
        <simpara>Normal Response Code(s):
            <returnvalue>204</returnvalue>
        </simpara>
        <simpara>Error Response Code(s): <errorcode>400</errorcode>
          (missingOrInvalidParams), <errorcode>404</errorcode>
          (Resource Not Found), <errorcode>409</errorcode> (Invalid
          State) </simpara>
        <para>This call deletes a cluster.</para>
        <para>The following examples show the requests and
          corresponding responses to delete a cluster:</para>
        <example>
          <title>Delete Cluster Request: JSON</title>
          <literallayout class="monospaced">
        DELETE https://dfw.bigdata.api.rackspacecloud.com/v1.0/7654321/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41
        Accept: application/json 
        X-Auth-Token:ea85e6ac-baff-4a6c-bf43-848020ea3812
        Content-Type: application/json
        </literallayout>
        </example>
        <example>
          <title>Delete Cluster Response: JSON</title>
          <literallayout class="monospaced">
        Status: 202 Accepted
        Date: Mon, 06 Aug 2012 21:54:21 GMT
        Content-Type: application/json
        {"cluster":
          { "id": "db478fc1-2d86-4597-8010-cbe787bbbc41",
            "created": "2012-12-27T10:10:10Z",
            "updated": "2012-12-27T20:14:10Z",
            "name": "slice",
            "clusterType": "HADOOP_HDP1_1",
            "flavorId": "4fba3bca-7c76-11e2-b737-beeffa00040e",
            "nodeCount": 5,
            "postInitScriptStatus": null,
            "status": "DELETING",
            "links": [
              { "rel": "self",
                "href": "https://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41"
              },
              { "rel": "bookmark",
                "href": "https://dfw.bigdata.api.rackspacecloud.com/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41"
              }
            ]
          }
        }

        </literallayout>
        </example>
        <para/>
      </section>
    </section>
    <section xml:id="nodeOperations">
      <title>Nodes</title>
      <para>This section describes operations that are supported for
        nodes.</para>
      <section xml:id="listClusterNodes">
        <title>List Cluster Nodes</title>
        <informaltable rules="all">
          <thead>
            <tr align="center">
              <td colspan="1">Verb</td>
              <td colspan="2">URI</td>
              <td colspan="3">Description</td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td colspan="1">&GET;</td>
              <td colspan="2">/clusters/{clusterId}/nodes</td>
              <td colspan="3">List all nodes for a cluster.</td>
            </tr>
          </tbody>
        </informaltable>
        <simpara>Normal Response Code(s): <returnvalue>200
            (OK)</returnvalue>
        </simpara>
        <simpara>Error Response Code(s): <errorcode>404</errorcode>
          (Not Found)</simpara>
        <para>This call lists all server nodes for the specified
          cluster.</para>
        <para>The following example show the request and corresponding
          response to List all Nodes for a Cluster:</para>
        <example>
          <title>List Cluster Nodes Request: JSON</title>
          <literallayout class="monospaced">
        GET https://dfw.bigdata.api.rackspacecloud.com/v1.0/7654321/clusters/ac111111-2d86-4597-8010-cbe787bbbc41/nodes
        Accept: application/json 
        X-Auth-Token:ea85e6ac-baff-4a6c-bf43-848020ea3812
        Content-Type: application/json
        </literallayout>
        </example>
        <example>
          <title>List Cluster Nodes Response: JSON</title>
          <literallayout class="monospaced">
        {"nodes":
          [ 
            { "id": "000",
              "created": "2012-12-27T10:10:10Z", 
              "role": "NAMENODE",
              "name": "NAMENODE-1", 
              "postInitScriptStatus": null,
              "status": "ACTIVE",
              "addresses": {
                "public": [{ "addr": "168.x.x.3", "version": 4 }],
                "private": [{ "addr": "10.x.x.3", "version": 4}]
              },
              "services": [
                { "name": "namenode" },
                { "name": "jobtracker" },
                { "name": "ssh",
                  "uri": "ssh://user@168.x.x.3"
                }
              ],
              "links": [
                { "rel": "self",
                  "href": "https://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41/nodes/000"
                },
                { "rel": "bookmark",
                  "href": "https://dfw.bigdata.api.rackspacecloud.com/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41/nodes/000"
                }
              ],
            },
            { "id": "aaa",
              "role": "GATEWAY",
              "name": "GATEWAY-1", 
              "postInitScriptStatus": null,
              "status": "ACTIVE",
              "addresses": {
                "public": [{ "addr": "168.x.x.4", "version": 4 }],
                "private": [{ "addr": "10.x.x.4", "version": 4}]
              },
              "services": [
                { "name": "pig" },
                { "name": "hive" },
                { "name": "ssh",
                  "uri": "ssh://user@168.x.x.4"
                },
                { "name": "status",
                  "uri": "http://10.x.x.4"
                },
                { "name": "hdfs-scp",
                  "uri": "scp://user@168.x.x.4:9022"
                }
              ],
              "links": [
                { "rel": "self",
                  "href": "https://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41/nodes/aaa"
                },
                { "rel": "bookmark",
                  "href": "https://dfw.bigdata.api.rackspacecloud.com/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41/nodes/aaa"
                }
              ],
            },
            { "id": "bbb",
              "role": "DATANODE",
              "name": "DATANODE-1",
              "postInitScriptStatus": null,
              "status": "ACTIVE",
              "addresses": {
                "public": [{ "addr": "168.x.x.5", "version": 4 }],
                "private": [{ "addr": "10.x.x.5", "version": 4}]
              },
              "services": [
                { "name": "datanode" },
                { "name": "tasktracker" },
                { "name": "ssh",
                  "uri": "ssh://user@168.x.x.5"
                }
              ],
              "links": [
                { "rel": "self",
                  "href": "https://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41/nodes/bbb"
                },
                { "rel": "bookmark",
                  "href": "https://dfw.bigdata.api.rackspacecloud.com/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41/nodes/bbb"
                }
              ],
            },
            { "id": "ccc",
              "role": "DATANODE",
              "name": "DATANODE-2",
              "postInitScriptStatus": null,
              "status": "ACTIVE",
              "addresses": {
                "public": [{ "addr": "168.x.x.6", "version": 4 }],
                "private": [{ "addr": "10.x.x.6", "version": 4}]
              },
              "services": [
                { "name": "datanode" },
                { "name": "tasktracker" },
                { "name": "ssh",
                  "uri": "ssh://user@168.x.x.6"
                }
              ],
              "links": [
                { "rel": "self",
                  "href": "https://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41/nodes/ccc"
                },
                { "rel": "bookmark",
                  "href": "https://dfw.bigdata.api.rackspacecloud.com/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41/nodes/ccc"
                }
              ],
            } 
          ]
        }

        </literallayout>
        </example>
      </section>
      <section xml:id="getNodeDetails">
        <title>Get Node Details</title>
        <informaltable rules="all">
          <thead>
            <tr align="center">
              <td colspan="1">Verb</td>
              <td colspan="2">URI</td>
              <td colspan="3">Description</td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td colspan="1">&GET;</td>
              <td colspan="2"
                >/clusters/{clusterId}/nodes/{nodeId}</td>
              <td colspan="3">Get details for a node in a
                cluster.</td>
            </tr>
          </tbody>
        </informaltable>
        <simpara>Normal Response Code(s): <returnvalue>200
            (OK)</returnvalue>
        </simpara>
        <simpara>Error Response Code(s): <errorcode>404</errorcode>
          (Not Found)</simpara>
        <para>This call gets details for a node as specified by the
          cluster id and node id.</para>
        <para>The following example show the request and corresponding
          response to Get Details for a Node within a Cluster:</para>
        <example>
          <title>Get Node Details Request: JSON</title>
          <literallayout class="monospaced">
        GET https://dfw.bigdata.api.rackspacecloud.com/v1.0/7654321/clusters/ac111111-2d86-4597-8010-cbe787bbbc41/nodes/000
        Accept: application/json 
        X-Auth-Token:ea85e6ac-baff-4a6c-bf43-848020ea3812
        Content-Type: application/json
        </literallayout>
        </example>
        <example>
          <title>Get Node Details Response: JSON</title>
          <literallayout class="monospaced">
        {"node":
          { "id": "000",
            "created": "2012-12-27T10:10:10Z", 
            "role": "NAMENODE",
            "name": "NAMENODE-1", 
            "postInitScriptStatus": null,
            "status": "ACTIVE",
            "addresses": {
              "public": [{ "addr": "168.x.x.3", "version": 4 }],
              "private": [{ "addr": "10.x.x.3", "version": 4}]
            },
            "services": [
              { "name": "datanode" },
              { "name": "tasktracker" },
              { "name": "ssh",
                "uri": "ssh://user@168.x.x.3"
              }
            ],
            "links": [
              { "rel": "self",
                "href": "https://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41/nodes/000"
              },
              { "rel": "bookmark",
                "href": "https://dfw.bigdata.api.rackspacecloud.com/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41/nodes/000"
              }
            ],
          } 
        }

        </literallayout>
        </example>
      </section>
    </section>
    <section xml:id="flavorOperations">
      <title>Flavors</title>
      <para>This section describes operations that are supported for
        flavors.</para>
      <section xml:id="listFlavors">
        <title>List Available Flavors</title>
        <informaltable rules="all">
          <thead>
            <tr align="center">
              <td colspan="1">Verb</td>
              <td colspan="2">URI</td>
              <td colspan="3">Description</td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td colspan="1">&GET;</td>
              <td colspan="2">/flavors</td>
              <td colspan="3">List all available flavors.</td>
            </tr>
          </tbody>
        </informaltable>
        <simpara>Normal Response Code(s):
            <returnvalue>200</returnvalue> (OK) </simpara>
        <simpara>Error Response Code(s): N/A </simpara>
        <para>This call lists all available flavors, including the
          drive size and amount of RAM.</para>
        <para>The following example shows the request and
          corresponding response to listing the flavors:</para>
        <example>
          <title>List Flavors Request: JSON</title>
          <literallayout class="monospaced">
        N/A
        </literallayout>
        </example>
        <example>
          <title>List Flavors Response: JSON</title>
          <literallayout class="monospaced">
        { "flavors": [
          {
            "disk": 256,
            "id": "4fba3bca-7c76-11e2-b737-beeffa00040e",
            "links": [
              { "href": "http://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/flavors/4fba3bca-7c76-11e2-b737-beeffa00040e", 
                "rel": "self"
              },
              { "href": "http://dfw.bigdata.api.rackspacecloud.com/1234/flavors/4fba3bca-7c76-11e2-b737-beeffa00040e", 
                "rel": "bookmark"
              }
            ],
            "name": "Tiny Hadoop Instance",
            "ram": 5120,
            "vcpus": 1
          },
          {
            "disk": 512,
            "id": "518400b2-7c76-11e2-b737-beeffa00040e",
            "links": [
              { "href": "http://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/flavors/518400b2-7c76-11e2-b737-beeffa00040e", 
                "rel": "self"
              },
              { "href": "http://dfw.bigdata.api.rackspacecloud.com/1234/flavors/518400b2-7c76-11e2-b737-beeffa00040e", 
                "rel": "bookmark"
              }
            ],
            "name": "Small Hadoop Instance",
            "ram": 8192,
            "vcpus": 2
          },
          {
            "disk": 1024,
            "id": "5413894c-7c76-11e2-b737-beeffa00040e",
            "links": [
              { "href": "http://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/flavors/5413894c-7c76-11e2-b737-beeffa00040e", 
                "rel": "self"
              },
              { "href": "http://dfw.bigdata.api.rackspacecloud.com/1234/flavors/5413894c-7c76-11e2-b737-beeffa00040e", 
                "rel": "bookmark"
              }
            ],
            "name": "Medium Hadoop Instance",
            "ram": 15360,
            "vcpus": 4
          },
          {
            "disk": 2000,
            "id": "559dd2b8-7c76-11e2-b737-beeffa00040e",
            "links": [
              { "href": "http://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/flavors/559dd2b8-7c76-11e2-b737-beeffa00040e", 
                "rel": "self"
              },
              { "href": "http://dfw.bigdata.api.rackspacecloud.com/1234/flavors/559dd2b8-7c76-11e2-b737-beeffa00040e", 
                "rel": "bookmark"
              }
            ],
            "name": "Large Hadoop Instance",
            "ram": 27648,
            "vcpus": 8
          }
        ] }
        </literallayout>
        </example>
      </section>
      <section xml:id="listFlavorDetails">
        <title>List Flavor Details</title>
        <informaltable rules="all">
          <thead>
            <tr align="center">
              <td colspan="1">Verb</td>
              <td colspan="2">URI</td>
              <td colspan="3">Description</td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td colspan="1">&GET;</td>
              <td colspan="2">/flavors/{flavorId}</td>
              <td colspan="3">Lists the details for a specified
                flavor.</td>
            </tr>
          </tbody>
        </informaltable>
        <simpara>Normal Response Code(s):
            <returnvalue>200</returnvalue> (OK) </simpara>
        <simpara>Error Response Code(s): <errorcode>404</errorcode>
          (Resource Not Found) </simpara>
        <para>This call lists the details for a specified
          flavor.</para>
        <para>The following example shows the request and
          corresponding response to List Flavor Details:</para>
        <example>
          <title>List Flavor Details Request: JSON</title>
          <literallayout class="monospaced">
        N/A
        </literallayout>
        </example>
        <example>
          <title>List Flavor Details Response: JSON</title>
          <literallayout class="monospaced">
        { "flavor":
          {
            "disk": 256,
            "id": "4fba3bca-7c76-11e2-b737-beeffa00040e",
            "links": [
              { "href": "http://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/flavors/4fba3bca-7c76-11e2-b737-beeffa00040e", 
                "rel": "self"
              },
              { "href": "http://dfw.bigdata.api.rackspacecloud.com/1234/flavors/4fba3bca-7c76-11e2-b737-beeffa00040e", 
                "rel": "bookmark"
              }
            ],
            "name": "Tiny Hadoop Instance",
            "ram": 5120,
            "vcpus": 1
          }
        }

        </literallayout>
        </example>
      </section>
      <section xml:id="listSupportedClusterTypesForFlavor">
        <title>List Supported Cluster Types for a Flavor</title>
        <informaltable rules="all">
          <thead>
            <tr align="center">
              <td colspan="1">Verb</td>
              <td colspan="2">URI</td>
              <td colspan="3">Description</td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td colspan="1">&GET;</td>
              <td colspan="2">/flavors/{flavorId}/types</td>
              <td colspan="3">Lists the supported cluster types for a
                specified flavor.</td>
            </tr>
          </tbody>
        </informaltable>
        <simpara>Normal Response Code(s):
            <returnvalue>200</returnvalue> (OK) </simpara>
        <simpara>Error Response Code(s): <errorcode>404</errorcode>
          (Resource Not Found) </simpara>
        <para>This call displays all the supported cluster types for a
          specified flavor.</para>
        <para>The following example shows the request and
          corresponding response to List Supported Cluster Types for a
          Flavor:</para>
        <example>
          <title>List Supported Cluster Types for a Flavor Request:
            JSON</title>
          <literallayout class="monospaced">
        N/A
        </literallayout>
        </example>
        <example>
          <title>List Supported Cluster Types for a Flavor Response:
            JSON</title>
          <literallayout class="monospaced">
        { "types":
          [
            {
              "id": "HADOOP_HDP1_1",
              "links": [
                { "href": "http://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/types/HADOOP_HDP1_1",
                  "rel": "self"
                },
                { "href": "http://dfw.bigdata.api.rackspacecloud.com/1234/types/HADOOP_HDP1_1",
                  "rel": "bookmark"
                }
              ],
              "name": "Hadoop (HDP 1.1)"
            }
          ]
        }
        </literallayout>
        </example>
      </section>
    </section>
    <section xml:id="typeOperations">
      <title>Types</title>
      <para>This section describes the operations that are supported
        for types.</para>
      <section xml:id="listClusterTypes">
        <title>List Cluster Types</title>
        <informaltable rules="all">
          <thead>
            <tr align="center">
              <td colspan="1">Verb</td>
              <td colspan="2">URI</td>
              <td colspan="3">Description</td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td colspan="1">&GET;</td>
              <td colspan="2">/types</td>
              <td colspan="3">Lists the cluster types.</td>
            </tr>
          </tbody>
        </informaltable>
        <simpara>Normal Response Code(s):
            <returnvalue>200</returnvalue> (OK) </simpara>
        <simpara>Error Response Code(s): N/A </simpara>
        <para>The following example shows the request and
          corresponding response to List Cluster Types:</para>
        <example>
          <title>List Cluster Types Request: JSON</title>
          <literallayout class="monospaced">
        N/A
        </literallayout>
        </example>
        <example>
          <title>List Cluster Types Response: JSON</title>
          <literallayout class="monospaced">
        { "types":
          [
            {
              "id": "HADOOP_HDP1_1",
              "links": [
                { "href": "http://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/types/HADOOP_HDP1_1",
                  "rel": "self"
                },
                { "href": "http://dfw.bigdata.api.rackspacecloud.com/1234/types/HADOOP_HDP1_1",
                  "rel": "bookmark"
                }
              ],
              "name": "Hadoop (HDP 1.1)"
            }
          ]
        }
        </literallayout>
        </example>
      </section>
      <section xml:id="listClusterTypeDetails">
        <title>List Cluster Type Details</title>
        <informaltable rules="all">
          <thead>
            <tr align="center">
              <td colspan="1">Verb</td>
              <td colspan="2">URI</td>
              <td colspan="3">Description</td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td colspan="1">&GET;</td>
              <td colspan="2">/types/{typeId}</td>
              <td colspan="3">Shows the details for a given cluster
                type.</td>
            </tr>
          </tbody>
        </informaltable>
        <simpara>Normal Response Code(s):
            <returnvalue>200</returnvalue> (OK) </simpara>
        <simpara>Error Response Code(s): <errorcode>404</errorcode>
          (Resource Not Found) </simpara>
        <para>This call displays the detailed information for a
          specified cluster.</para>
        <para>The following example shows the request and
          corresponding response to view cluster details:</para>
        <example>
          <title>List Cluster Type Details Request: JSON</title>
          <literallayout class="monospaced">
        N/A
        </literallayout>
        </example>
        <example>
          <title>List Cluster Type Details Response: JSON</title>
          <literallayout class="monospaced">
        { "type":
          {
            "id": "HADOOP_HDP1_1",
            "links": [
              { "href": "http://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/types/HADOOP_HDP1_1",
                "rel": "self"
              },
              { "href": "http://dfw.bigdata.api.rackspacecloud.com/1234/types/HADOOP_HDP1_1",
                "rel": "bookmark"
              }
            ],
            "name": "Hadoop (HDP 1.1)",
            "services": []
          }
        }
        </literallayout>
        </example>
      </section>
      <section xml:id="listSupportedFlavorsForType">
        <title>List Supported Flavors for Type</title>
        <informaltable rules="all">
          <thead>
            <tr align="center">
              <td colspan="1">Verb</td>
              <td colspan="2">URI</td>
              <td colspan="3">Description</td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td colspan="1">&GET;</td>
              <td colspan="2">/types/{typeId}/flavors</td>
              <td colspan="3">Lists the supported flavors for a
                specified cluster type.</td>
            </tr>
          </tbody>
        </informaltable>
        <simpara>Normal Response Code(s):
            <returnvalue>200</returnvalue> (OK) </simpara>
        <simpara>Error Response Code(s): <errorcode>404</errorcode>
          (Resource Not Found) </simpara>
        <para>This call lists all the flavors that a specified cluster
          type supports.</para>
        <para>The following example shows the request and
          corresponding response to list supported flavors:</para>
        <example>
          <title>List Supported Flavors for Type Request: JSON</title>
          <literallayout class="monospaced">
        N/A
        </literallayout>
        </example>
        <example>
          <title>List Supported Flavors for Type Response:
            JSON</title>
          <literallayout class="monospaced">
        { "flavors": [
          {
            "disk": 1024,
            "id": "5413894c-7c76-11e2-b737-beeffa00040e",
            "links": [
              { "href": "http://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/flavors/5413894c-7c76-11e2-b737-beeffa00040e", 
                "rel": "self"
              },
              { "href": "http://dfw.bigdata.api.rackspacecloud.com/1234/flavors/5413894c-7c76-11e2-b737-beeffa00040e", 
                "rel": "bookmark"
              }
            ],
            "name": "Medium Hadoop Instance",
            "ram": 15360,
            "vcpus": 4
          },
          {
            "disk": 2000,
            "id": "559dd2b8-7c76-11e2-b737-beeffa00040e",
            "links": [
              { "href": "http://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/flavors/559dd2b8-7c76-11e2-b737-beeffa00040e", 
                "rel": "self"
              },
              { "href": "http://dfw.bigdata.api.rackspacecloud.com/1234/flavors/559dd2b8-7c76-11e2-b737-beeffa00040e", 
                "rel": "bookmark"
              }
            ],
            "name": "Large Hadoop Instance",
            "ram": 27648,
            "vcpus": 8
          }
        ] }
        </literallayout>
        </example>
      </section>
    </section>
    <section xml:id="limitsOperations">
      <title>Resource Limits</title>
      <para>This section describes the operation that is supported for
        resource limits.</para>
      <section xml:id="viewResourceLimits">
        <title>View Resource Limits</title>
        <informaltable rules="all">
          <thead>
            <tr align="center">
              <td colspan="1">Verb</td>
              <td colspan="2">URI</td>
              <td colspan="3">Description</td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td colspan="1">&GET;</td>
              <td colspan="2">/limits</td>
              <td colspan="3">Displays the resource limits for the
                user.</td>
            </tr>
          </tbody>
        </informaltable>
        <simpara>Normal Response Code(s):
            <returnvalue>200</returnvalue> (OK) </simpara>
        <simpara>Error Response Code(s): N/A </simpara>
        <para>This call displays the resource limits such as remaining
          node count, available RAM, and remaining disk space, for the
          user.</para>
        <para>The following example shows the request and
          corresponding response to View Resource Limits:</para>
        <example>
          <title>View Resource Limits Request: JSON</title>
          <literallayout class="monospaced">
        N/A
        </literallayout>
        </example>
        <example>
          <title>View Resource Limits Response: JSON</title>
          <literallayout class="monospaced">
        { "limits":
          { "absolute":
            {
              "disk": {
                "limit": 5120,
                "remaining": 5120
              },
              "nodeCount": {
                "limit": 5,
                "remaining": 5
              },
              "ram": {
                "limit": 40960,
                "remaining": 40960
              },
              "vcpus": {
                "limit": 10,
                "remaining": 10
              }
            },
            "links": [
              { "href": "http://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/limits",
                "rel": "self"
              },
              { "href": "http://dfw.bigdata.api.rackspacecloud.com/1234/limits",
                "rel": "bookmark"
              }
            ]
          }
        }
        </literallayout>
        </example>
      </section>
    </section>
  </chapter>
  <glossary xml:id="glossary_1">
    <title>Glossary</title>
    <glossentry>
      <glossterm>Cluster</glossterm>
      <glossdef>
        <para> A group of servers (nodes). In &PRODABBV;, the servers
          are virtual.</para>
      </glossdef>
    </glossentry>
    <glossentry xml:id="message-d1e016">
      <glossterm>Data Transfer</glossterm>
      <glossdef>
        <para>A method by to move data from a non-Cloud machine by FTP
          or by SSH from your Cloud Files account.</para>
      </glossdef>
    </glossentry>
    <glossentry xml:id="producer-d1e020">
      <glossterm>HDFS</glossterm>
      <glossdef>
        <para>The Hadoop Distributed Files System. This is the default
          file system used in &PRODNAME;.</para>
      </glossdef>
    </glossentry>
    <glossentry xml:id="queue-d1e019">
      <glossterm>MapReduce</glossterm>
      <glossdef>
        <para>A framework for performing calculations on the data in
          the distributed file system. Map tasks run in parallel with
          each other; Reduce tasks also run in parallel with each
          other. </para>
      </glossdef>
    </glossentry>
    <glossentry xml:id="subscriber-d1e018">
      <glossterm>Node</glossterm>
      <glossdef>
        <para>A subscriber (or observer) watches messages like an RSS
          feed, but does not claim any messages.</para>
      </glossdef>
    </glossentry>
    <glossentry xml:id="worker-d1e018">
      <glossterm>SCP Server Proxy</glossterm>
      <glossdef>
        <para>An SCP service that runs on your Hadoop cluster which
          distributes your files across the cluster. </para>
      </glossdef>
    </glossentry>
    <glossentry>
      <glossterm>Service Catalog</glossterm>
      <glossdef>
        <para>An SCP service that runs on your Hadoop cluster which
          distributes your files across the cluster. </para>
      </glossdef>
    </glossentry>
    <glossentry>
      <glossterm>Tenant ID</glossterm>
      <glossdef>
        <para>A tenant is a container used to group or isolate
          resources and/or identity objects. Depending on the service
          operator, a tenant may map to a customer, account,
          organization, or project. </para>
      </glossdef>
    </glossentry>
  </glossary>
</book>
